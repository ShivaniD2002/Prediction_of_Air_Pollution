{% extends 'SProvider/design1.html' %}
{% block researchblock %}

<style>
body{
    background-color:#FFFFFF;
}
#chartContainer{
    width:1180px;
    height:500px;
    margin-left:250px;
    margin-top:40px;
}
.sidemenu{
    margin-top:120px;
}
</style>

<div class="sidemenu">
    <h3 style="margin-left:60px;">
        <a href="{% url 'charts' 'pie' %}">PIE CHART</a><br><br>
        <a href="{% url 'charts' 'line' %}">LINE CHART</a><br><br>
        <a href="{% url 'charts' 'spline' %}">SPLINE CHART</a>
    </h3>
</div>

<div id="chartContainer"></div>

<script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>

<script>
document.addEventListener("DOMContentLoaded", function () {

    var dataPoints = [
        {% for o in form %}
            { y: {{ o.dcount|floatformat:2 }}, label: "{{ o.names }}" },
        {% endfor %}
    ];

    if (dataPoints.length === 0) {
        alert("No chart data available");
        return;
    }

    var chartType = "{{ chart_type }}";
    if(chartType === "pie"){ chartType = "pie"; }
    else if(chartType === "spline"){ chartType = "spline"; }
    else{ chartType = "line"; }

    var chart = new CanvasJS.Chart("chartContainer", {
        animationEnabled: true,
        theme: "light2",
        title: {
            text: "Training & Testing Accuracy"
        },
        data: [{
            type: chartType,
            indexLabel: "{label} : {y}",
            dataPoints: dataPoints
        }]
    });

    chart.render();
});
</script>

{% endblock %}
